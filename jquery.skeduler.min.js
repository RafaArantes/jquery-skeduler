!function(e){function s(e){return(e<10?"0":"")+Math.round(e)+(e%10>0?":30":":00")}function a(e){return(t.lineHeight+t.borderWidth)*(2*e)-1}function n(e){return(t.lineHeight+t.borderWidth)*(2*e)}function r(s){var a=t.cardTemplate
for(var n in s)s.hasOwnProperty(n)&&(a=a.replace("${"+n+"}",s[n]))
return e(a)}function d(d,l){l.forEach(function(l){var t=r(l),o=n(l.startTime),i=a(l.duration)
e("<div></div>").attr({style:"top: "+o+"px; height: "+i+"px",title:s(l.startTime)+" - "+s(l.startTime+l.duration)}).append(t).appendTo(d)},this)}var l={headers:[],tasks:[],cardTemplate:"<div>${id}</div>",containerCssClass:"skeduler-container",headerContainerCssClass:"skeduler-headers",schedulerContainerCssClass:"skeduler-main",taskPlaceholderCssClass:"skeduler-task-placeholder",cellCssClass:"skeduler-cell",lineHeight:30,borderWidth:1,debug:!1},t={}
e.fn.skeduler=function(a){t.debug&&console.time("skeduler"),t=e.extend(l,a),this.empty(),this.addClass(t.containerCssClass)
var n=e("<div></div>"),r=n.clone().addClass(t.headerContainerCssClass)
t.headers.forEach(function(e){n.clone().text(e).appendTo(r)},this),this.append(r)
for(var o=n.clone().addClass(t.schedulerContainerCssClass),i=n.clone().addClass(t.schedulerContainerCssClass+"-timeline"),c=n.clone().addClass(t.schedulerContainerCssClass+"-body"),C=n.clone(),u=0;u<24;u++)n.clone().text(s(u)).appendTo(i),n.clone().appendTo(i),C.append(n.clone().addClass(t.cellCssClass)),C.append(n.clone().addClass(t.cellCssClass))
for(var p=0;p<t.headers.length;p++){var h=C.clone(),f=n.clone().addClass(t.taskPlaceholderCssClass)
d(f,t.tasks.filter(function(e){return e.column==p})),h.prepend(f),h.appendTo(c)}return o.append(i),o.append(c),this.append(o),t.debug&&console.timeEnd("skeduler"),this}}(jQuery);
