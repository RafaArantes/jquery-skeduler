!function(e){function s(e){return(e<10?"0":"")+Math.ceil(e)+(Math.ceil(e)>Math.floor(e)?":30":":00")}function a(e){return(t.lineHeight+t.borderWidth)*(2*e)-1}function n(e){return(t.lineHeight+t.borderWidth)*(2*e)}function r(s){var a=t.cardTemplate
for(var n in s)s.hasOwnProperty(n)&&(a=a.replace("${"+n+"}",s[n]))
return e(a)}function l(l,d){d.forEach(function(d){var t=r(d),o=n(d.startTime),i=a(d.duration)
e("<div></div>").attr({style:"top: "+o+"px; height: "+i+"px",title:s(d.startTime)+" - "+s(d.startTime+d.duration)}).append(t).appendTo(l)},this)}var d={headers:[],tasks:[],cardTemplate:"<div>${id}</div>",containerCssClass:"skeduler-container",headerContainerCssClass:"skeduler-headers",schedulerContainerCssClass:"skeduler-main",taskPlaceholderCssClass:"skeduler-task-placeholder",cellCssClass:"skeduler-cell",lineHeight:30,borderWidth:1,debug:!1},t={}
e.fn.skeduler=function(a){t=e.extend(d,a),t.debug&&console.time("skeduler")
var n=e(this)
n.empty(),n.addClass(t.containerCssClass)
var r=e("<div></div>"),o=r.clone().addClass(t.headerContainerCssClass)
t.headers.forEach(function(e){r.clone().text(e).appendTo(o)},this),n.append(o)
for(var i=r.clone().addClass(t.schedulerContainerCssClass),c=r.clone().addClass(t.schedulerContainerCssClass+"-timeline"),C=r.clone().addClass(t.schedulerContainerCssClass+"-body"),p=r.clone(),u=0;u<24;u++)r.clone().text(s(u)).appendTo(c),r.clone().appendTo(c),p.append(r.clone().addClass(t.cellCssClass)),p.append(r.clone().addClass(t.cellCssClass))
for(var h=0;h<t.headers.length;h++){var f=p.clone(),v=r.clone().addClass(t.taskPlaceholderCssClass)
l(v,t.tasks.filter(function(e){return e.column==h})),f.prepend(v),f.appendTo(C)}return i.append(c),i.append(C),n.append(i),t.debug&&console.timeEnd("skeduler"),n}}(jQuery);
