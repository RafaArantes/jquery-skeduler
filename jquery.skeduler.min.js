!function(e){function s(e){return(e<10?"0":"")+Math.round(e)+(e%10>0?":30":":00")}function a(e){return(t.lineHeight+t.borderWidth)*(2*e)-1}function n(e){return(t.lineHeight+t.borderWidth)*(2*e)}function r(s){var a=t.cardTemplate
for(var n in s)s.hasOwnProperty(n)&&(a=a.replace("${"+n+"}",s[n]))
return e(a)}function d(d,l){l.forEach(function(l){var t=r(l),o=n(l.startTime),i=a(l.duration)
e("<div></div>").attr({style:"top: "+o+"px; height: "+i+"px",title:s(l.startTime)+" - "+s(l.startTime+l.duration)}).append(t).appendTo(d)},this)}var l={headers:[],tasks:[],cardTemplate:"<div>${id}</div>",containerCssClass:"skeduler-container",headerContainerCssClass:"skeduler-headers",schedulerContainerCssClass:"skeduler-main",taskPlaceholderCssClass:"skeduler-task-placeholder",cellCssClass:"skeduler-cell",lineHeight:30,borderWidth:1,debug:!1},t={}
e.fn.skeduler=function(a){t=e.extend(l,a),t.debug&&console.time("skeduler")
var n=e(this)
n.empty(),n.addClass(t.containerCssClass)
var r=e("<div></div>"),o=r.clone().addClass(t.headerContainerCssClass)
t.headers.forEach(function(e){r.clone().text(e).appendTo(o)},this),n.append(o)
for(var i=r.clone().addClass(t.schedulerContainerCssClass),c=r.clone().addClass(t.schedulerContainerCssClass+"-timeline"),C=r.clone().addClass(t.schedulerContainerCssClass+"-body"),u=r.clone(),p=0;p<24;p++)r.clone().text(s(p)).appendTo(c),r.clone().appendTo(c),u.append(r.clone().addClass(t.cellCssClass)),u.append(r.clone().addClass(t.cellCssClass))
for(var h=0;h<t.headers.length;h++){var f=u.clone(),v=r.clone().addClass(t.taskPlaceholderCssClass)
d(v,t.tasks.filter(function(e){return e.column==h})),f.prepend(v),f.appendTo(C)}return i.append(c),i.append(C),n.append(i),t.debug&&console.timeEnd("skeduler"),n}}(jQuery);
